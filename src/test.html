<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE = edge">
    <meta name="viewport" content="width = device-width,
         initial-scale = 1">

    <title>CyDriver</title>

    <!-- Bootstrap -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"
          rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5
       elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the
       page via file:// -->

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
        function hasGetUserMedia() {
            return !!(window.navigator.getUserMedia || window.navigator.webkitGetUserMedia ||
            navigator.mozGetUserMedia || navigator.msGetUserMedia);
        }

        function main() {
            if (hasGetUserMedia()) {
                // Good to go!

            } else {
                alert('getUserMedia() is not supported in your browser');
            }
        }
    </script>

</head>

<body onload="main()">
<div style="text-align:center;">
<!--    <div class="select">
        <label for="audioSource">Audio input source: </label><select id="audioSource"></select>
    </div>

    <div class="select">
        <label for="audioOutput">Audio output destination: </label><select id="audioOutput"></select>
    </div>

    <div class="select">
        <label for="videoSource">Video source: </label><select id="videoSource"></select>
    </div>
    <video autoplay></video>-->
    <script>
        // Opera 8.0+
        var isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;
        // Firefox 1.0+
        var isFirefox = typeof InstallTrigger !== 'undefined';
        // At least Safari 3+: "[object HTMLElementConstructor]"
        var isSafari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;
        // Internet Explorer 6-11
        var isIE = /*@cc_on!@*/false || !!document.documentMode;
        // Edge 20+
        var isEdge = !isIE && !!window.StyleMedia;
        // Chrome 1+
        var isChrome = !!window.chrome && !!window.chrome.webstore;
        // Blink engine detection
        var isBlink = (isChrome || isOpera) && !!window.CSS;

        if(isChrome){

            'use strict';

    // Put variables in global scope to make them available to the browser console.
            var video = document.querySelector('video');
            var constraints = window.constraints = {
                audio: false,
                video: true
            };

            var p = navigator.webkitGetUserMedia(constraints,function (mediaStream) {
                console.log(mediaStream);
                var video = document.querySelector('video');
                video.src = window.URL.createObjectURL(mediaStream);
                video.onloadedmetadata = function (e) {
                    // Do something with the video here.
                    console.log('success');
                    }
                }, function (err) {
                    console.log(err.name);
                });
            console.log(p);

        }else {
            var p = navigator.mediaDevices.getUserMedia({audio: true, video: true});

            p.then(function (mediaStream) {
                console.log(mediaStream);
                var video = document.querySelector('video');
                video.src = window.URL.createObjectURL(mediaStream);
                video.onloadedmetadata = function (e) {
                    // Do something with the video here.
                    console.log('success');
                };
            });

            p.catch(function (err) {
                console.log(err.name);
            }); // always check for errors at the end.
        }

    </script>
    <div class="table-responsive">
        <table class="table">
            <div style="margin: 0 auto;">
                <tbody>
                <tr>
                    <td></td>
                    <td>
                        <button type="button" class="btn btn-primary btn-lg">
                            &nbsp;&nbsp;UP&nbsp;&nbsp;&nbsp;</button>
                    </td>
                    <td></td>
                </tr>

                <tr>
                    <td>
                        <button type="button" class="btn btn-primary btn-lg">
                            LEFT
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-primary btn-lg">
                            STOP&nbsp;</button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-primary btn-lg">
                            RIGHT
                        </button>
                    </td>
                </tr>

                <tr>
                    <td></td>
                    <td>
                        <button type="button" class="btn btn-primary btn-lg">
                            DOWN
                        </button>
                    </td>
                    <td></td>
                </tr>
                </tbody>
            </div>
        </table>
    </div>
</div>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

</body>
</html>